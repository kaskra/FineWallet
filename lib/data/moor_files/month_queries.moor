import 'tables.moor';

allMonths: SELECT * FROM months ORDER BY firstDate ASC;
monthIdByDate: SELECT id FROM months WHERE :date <= lastDate AND :date >= firstDate;
monthByDate: SELECT * FROM months WHERE :date <= lastDate AND :date >= firstDate;
monthById: SELECT * FROM months WHERE id=:id;

-- TODO test - is needed? if yes ON CONFLICT handling?
cOgMonth: INSERT INTO months (id, maxBudget, firstDate, lastDate) VALUES ((SELECT * FROM months WHERE :date <= lastDate AND :date >= firstDate) ,:maxBudget, :firstDate, :lastDate);